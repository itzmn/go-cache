# go-cache(分布式缓存)

go mod init go-cache

## v1.1 基础框架
缓存淘汰类型
- FIFO 先入先出
- LRU 最近最少使用(实现这个)
- LFU 最少使用

### LRU
底层使用的数据结构为map 存储缓存数据，使用双向链表维护 缓存的顺序，
### 数据结构
- entry: 缓存的基础数据
- Value：缓存的值，接口类型，有Len方法 获取占用内存
- Cache：缓存对象
{缓存最大内存，当前使用内存，缓存数据结构map，缓存LRU关系，使用双向链表实现}

  方法:
  1. 根据key 查询Value
     1. 缓存map中查找，如果有，更新缓存，将该节点移动到双向链表头部，返回存储的值
  2. 缓存更新，内部优化内存
     1. 得到双向链表的最后一个元素，准备删除
     2. 根据删除的元素，更新缓存内存
     3. 将数据从双向链表和 缓存map删除
  3. 增加元素
     1. 判断增加的元素 系统是否装的下，执行缓存更新方法，直到得到足够的内存
     2. 从map中判断是否包含，如果包含是更新，将节点放到双向链表头部，
     3. 更新内存，更新节点的值
     4. 如果是新增，新建存储节点entry，放到双向链表头部，加入map
  4. Len方法， 获取系统数据条数，和占用的内存